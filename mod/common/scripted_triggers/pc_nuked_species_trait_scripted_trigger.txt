# Whether this country is eligible to use tomb world "terraforming."
# Requires either the main species be nuked (no tech requirement), or that any
# species with Pops is nuked and the empire has researched Tomb World Adaption.
# Includes tooltips.
# THIS = country
eligible_for_pc_nuked_terraform_country = {
	OR = {
		custom_tooltip = {
			success_text = pc_nuked_terraform_owner_species_pass
			fail_text = pc_nuked_terraform_owner_species_fail
			owner_species = { is_nuked_species = yes }
		}
		AND = {
			has_technology = tech_tomb_world_adaption
			custom_tooltip = {
				success_text = pc_nuked_terraform_any_pop_species_pass
				fail_text = pc_nuked_terraform_any_pop_species_fail
				has_any_nuked_pop_species = yes
			}
		}
	}
}

# whether this species is considered "nuked"
# THIS = species
is_nuked_species = {
	OR = {
		has_trait = trait_pc_nuked_preference
		has_trait = trait_survivor
		has_trait = trait_presapient_irradiated
		has_trait = trait_plantoid_radiotrophic
	}
}

# whether the country has any species (with Pops) that are considered "nuked"
# THIS = country
has_any_nuked_pop_species = {
	any_owned_pop_species = { is_nuked_species = yes }
}