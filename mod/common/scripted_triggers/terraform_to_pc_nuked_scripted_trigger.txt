# Whether this country is eligible to use tomb world "terraforming."
# Requires either the main species be nuked (no tech requirement), or that any
# species with Pops is nuked and the empire has researched Tomb World Adaption.
# Includes tooltips.
# this = country
eligible_for_pc_nuked_terraform_country = {
	OR = {
		custom_tooltip = {
			success_text = pc_nuked_terraform_owner_species_pass
			fail_text = pc_nuked_terraform_owner_species_fail
			owner_species = { is_nuked_species = yes }
		}
		AND = {
			has_technology = tech_tomb_world_adaption
			custom_tooltip = {
				success_text = pc_nuked_terraform_any_pop_species_pass
				fail_text = pc_nuked_terraform_any_pop_species_fail
				OR = {
					has_country_flag = terraformed_to_pc_nuked
					has_any_nuked_pop_species = yes
				}
			}
		}
	}
}

# whether this species is considered "nuked"
# this = species
is_nuked_species = {
	OR = {
		has_trait = trait_pc_nuked_preference
		has_trait = trait_survivor
		has_trait = trait_plantoid_radiotrophic
		has_trait = trait_presapient_irradiated
	}
}

# whether the country has any species (with Pops) that are considered "nuked"
# this = country
has_any_nuked_pop_species = {
	any_owned_pop_species = { is_nuked_species = yes }
}

# assumes the terraformer meets technology/species requirements
# this = planet
eligible_pc_nuked_terraform = {
	is_artificial = no
	OR = {
		eligible_pc_nuked_terraform_habitable = yes
		eligible_pc_nuked_terraform_hostile = yes
		eligible_pc_nuked_terraform_unhabitable = yes
	}
}

# assumes the terraformer meets technology/species requirements
# this = planet
eligible_pc_nuked_terraform_habitable = {
	OR = {
		is_planet_class = pc_alpine
		is_planet_class = pc_arctic
		is_planet_class = pc_arid
		is_planet_class = pc_continental
		is_planet_class = pc_desert
		is_planet_class = pc_gaia
		is_planet_class = pc_ocean
		is_planet_class = pc_savannah
		is_planet_class = pc_tropical
		is_planet_class = pc_tundra
	}
}

# assumes the terraformer meets technology/species requirements
# this = planet
eligible_pc_nuked_terraform_hostile = {
	OR = {
		is_planet_class = pc_hive
		is_planet_class = pc_machine
	}
}

# assumes the terraformer meets technology/species requirements
# this = planet
eligible_pc_nuked_terraform_unhabitable = {
	has_modifier = terraforming_candidate
	OR = {
		is_planet_class = pc_barren
		is_planet_class = pc_barren_cold
		is_planet_class = pc_frozen
	}
}